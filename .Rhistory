library(tidyverse)
foods = read_csv('foods.csv')
View(foods)
View(foods)
recipes = read_csv('recipes.csv')
View(recipes)
View(recipes)
library(tidyverse)
source('C:/Users/qtckp/OneDrive/Рабочий стол/diet_first_try/read_data.R')
View(foods)
View(foods)
head(foods)
colnames(foods)
source('C:/Users/qtckp/OneDrive/Рабочий стол/diet_first_try/read_data.R')
foods_cols = colnames(foods)
recipes_cols = colnames(recipes)
union(foods_cols, recipes_cols)
intersect(foods_cols, recipes_cols)
setdiff(recipes_cols, foods_cols)
source('C:/Users/qtckp/OneDrive/Рабочий стол/diet_first_try/read_data.R')
setdiff(recipes_cols, foods_cols)
intersect(foods_cols, recipes_cols)
setdiff(foods_cols, recipes_cols)
foods$bromine
right_columns = intersect(foods_cols, recipes_cols)
source('C:/Users/qtckp/OneDrive/Рабочий стол/diet_first_try/read_data.R')
View(foods)
View(recipes)
goal = read_csv('goal.csv')
View(goal)
right_columns = colnames(goal)
foods = foods[,right_columns]
View(foods)
View(foods)
View(goal)
View(goal)
source('C:/Users/qtckp/OneDrive/Рабочий стол/diet_first_try/read_data.R')
setdiff(right_columns, goal_columns)
setdiff( goal_columns, right_columns)
goal %<>% rename('fats' = 'fat')
goal %<>% rename('fat' = 'fats')
View(goal)
View(foods)
right_columns
sort(right_columns)
goal %<>% rename(
'fat' = 'fats',
'calories' = 'energy',
'proteins' = 'protein',
'carbohydrates' = 'carbohydrate',
'chromium' = 'chrome',
'omega3' = 'omega_3',
'selenium' = 'selen'
)
source('C:/Users/qtckp/OneDrive/Рабочий стол/diet_first_try/read_data.R', encoding = 'UTF-8')
source('C:/Users/qtckp/OneDrive/Рабочий стол/diet_first_try/read_data.R', encoding = 'UTF-8')
source('C:/Users/qtckp/OneDrive/Рабочий стол/diet_first_try/read_data.R', encoding = 'UTF-8')
goal = read_csv('goal.csv')
View(goal)
View(foods)
source('C:/Users/qtckp/OneDrive/Рабочий стол/diet_first_try/read_data.R', encoding = 'UTF-8')
mat = matrix(0, nrow = 4, ncol = length(right_columns))
rownames(mat) = c('day_bottom','day_top','week_bottom', 'week_top')
colnames(mat) = right_columns
View(mat)
mat = tibble(mat)
View(mat)
mat = matrix(1, nrow = 4, ncol = length(right_columns))
rownames(mat) = c('day_bottom','day_top','week_bottom', 'week_top')
colnames(mat) = right_columns
mat = tibble(mat)
mat = matrix(1, nrow = 4, ncol = length(right_columns))
rownames(mat) = c('day_bottom','day_top','week_bottom', 'week_top')
colnames(mat) = right_columns
mat = as.tibble(mat)
mat$energy = c(0.93, 1.07, 0.97, 1.03)
View(mat)
View(foods)
right_columns
sort(right_columns)
mat[,c('beta_carotene',
'vitamin_b1',
'vitamin_b2','vitamin_b5','vitamin_b6','vitamin_b9','vitamin_c',
'vitamin_e','vitamin_pp','vitamin_k','vitamin_h','chlorine','magnesium',
'sodium','phosphorus','iron','iodine','manganese',
'copper', 'molybdenum','cobalt',
'selen','serine', 'chrome','zinc')] = c(0.8, 3.5, 0.95, 3.5)
View(mat)
bad_cols = sapply(mat, function(cl) sum(cl == 1)==4)
View(mat)
source('C:/Users/qtckp/OneDrive/Рабочий стол/diet_first_try/borders.R', encoding = 'UTF-8')
View(mat)
mat[,-bad_cols]
mat[,!bad_cols]
source('C:/Users/qtckp/OneDrive/Рабочий стол/diet_first_try/borders.R', encoding = 'UTF-8')
